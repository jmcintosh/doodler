!function t(e,i,s){function n(o,a){if(!i[o]){if(!e[o]){var _="function"==typeof require&&require;if(!a&&_)return _(o,!0);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return n(i?i:t)},c,c.exports,t,e,i,s)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t,e,i){"use strict";var s=function(){function t(t,e,i){this.primary_hsl=null,this.secondary_hsl=null,this._canvas=document.createElement("canvas"),this._canvas.id=t,this._canvas.width=360,this._canvas.height=i,this._canvas.style.display="inline";var s=document.getElementById(e);s.appendChild(this._canvas),this._ctx=this._canvas.getContext("2d"),this._canvas.oncontextmenu=function(){return!1},this._primary_preview=document.createElement("div"),this._primary_preview.style.height=i/2+"px",this._primary_preview.style.width=i/2+"px",this._secondary_preview=document.createElement("div"),this._secondary_preview.style.height=i/2+"px",this._secondary_preview.style.width=i/2+"px";for(var r=0;r<360;r++)this._ctx.fillStyle="hsl("+r.toString()+",100%,50%)",this._ctx.fillRect(r,0,1,i);this.primary_hsl=new n(0),this.secondary_hsl=new n(180),this._primary_preview=document.createElement("div"),this._primary_preview.style.height=i/2+"px",this._primary_preview.style.width=i/2+"px",this._primary_preview.style.backgroundColor=this.primary_hsl.as_string(),this._secondary_preview=document.createElement("div"),this._secondary_preview.style.height=i/2+"px",this._secondary_preview.style.width=i/2+"px",this._secondary_preview.style.backgroundColor=this.secondary_hsl.as_string(),this._preview=document.createElement("span"),this._preview.appendChild(this._primary_preview),this._preview.appendChild(this._secondary_preview),s.appendChild(this._preview),s.style.display="inline",this.init_event_listeners()}return t.prototype.init_event_listeners=function(){console.log("ColorPicker::init"),this._canvas.addEventListener("mousedown",this.pick_color.bind(this))},t.prototype.pick_color=function(t){console.log("ColorPicker::pick_color",t),0==t.button?(this.primary_hsl.set(t.offsetX),this._primary_preview.style.backgroundColor=this.primary_hsl.as_string()):2==t.button&&(this.secondary_hsl.set(t.offsetX),this._secondary_preview.style.backgroundColor=this.secondary_hsl.as_string())},t}();i.ColorPicker=s;var n=function(){function t(t,e,i){void 0===e&&(e=100),void 0===i&&(i=50),this.set(t,e,i)}return t.prototype.set=function(t,e,i){void 0===e&&(e=100),void 0===i&&(i=50),console.log(t),this.h=t%360,e<0?this.s=0:e>100?this.s=100:this.s=e,i<0?this.l=0:i>100?this.l=100:this.l=i},t.prototype.as_string=function(){return"hsl("+this.h+", "+this.s+"%, "+this.l+"%)"},t}()},{}],2:[function(t,e,i){"use strict";var s=function(){function t(t,e,i,s){this._bound_draw=[],this._bound_start_drawing=null,this._bound_stop_drawing=null,this._canvas=document.createElement("canvas"),this._canvas.id=t,this._canvas.width=i,this._canvas.height=s,document.getElementById(e).appendChild(this._canvas),this._ctx=this._canvas.getContext("2d"),this._canvas.oncontextmenu=function(){return!1},this.start_draw_listeners(),this.set_line_width(1)}return t.prototype.test_circle=function(){this._ctx.beginPath(),this._ctx.arc(95,50,40,0,2*Math.PI),this._ctx.stroke()},t.prototype.start_draw_listeners=function(){console.log("Doodler:start_draw_listeners"),this._bound_start_drawing||(this._bound_start_drawing=this.start_drawing.bind(this),this._canvas.addEventListener("mousedown",this._bound_start_drawing,!1)),this._bound_stop_drawing||(this._bound_stop_drawing=this.stop_drawing.bind(this),this._canvas.addEventListener("mouseup",this._bound_stop_drawing,!1))},t.prototype.stop_draw_listeners=function(){console.log("Doodler:stop_draw_listeners"),this._bound_start_drawing&&(this._canvas.removeEventListener("mousedown",this._bound_start_drawing,!1),this._bound_start_drawing=null),this._bound_stop_drawing&&(this._canvas.removeEventListener("mouseup",this._bound_stop_drawing,!1),this._bound_stop_drawing=null)},t.prototype.set_line_width=function(t){this._ctx.lineWidth=t},t.prototype.start_drawing=function(t){if(0==t.button){var e=this.draw.bind(this);this._bound_draw.push(e),this._canvas.addEventListener("mousemove",e,!1);var i=t.offsetX,s=t.offsetY;this._ctx.beginPath(),this._ctx.moveTo(i,s);var n=this._ctx.lineWidth;i-=Math.floor(n/2),s-=Math.floor(n/2),this._ctx.fillRect(i,s,n,n)}},t.prototype.draw=function(t){if(0==t.button){var e=t.offsetX,i=t.offsetY;this._ctx.lineTo(e,i),this._ctx.stroke()}},t.prototype.stop_drawing=function(t){if(0==t.button){for(var e=0,i=this._bound_draw;e<i.length;e++){var s=i[e];this._canvas.removeEventListener("mousemove",s,!1)}var n=t.offsetX,r=t.offsetY;this._ctx.lineTo(n,r);var o=this._ctx.lineWidth;n-=Math.floor(o/2),r-=Math.floor(o/2),this._ctx.fillRect(n,r,o,o),this._ctx.stroke()}},t.prototype.clear_canvas=function(){console.log("Doodler::clear_canvas"),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.beginPath()},t.prototype.save_image=function(){console.log("Doodler::save_canvas_blob"),this.saved_image=this._canvas.toDataURL("image/png")},t.prototype.load_image=function(){console.log("Doodler::load_canvas_blob");var t=new Image;t.src=this.saved_image,this._ctx.drawImage(t,0,0)},t}();i.Doodler=s},{}],3:[function(t,e,i){"use strict";var s=t("./doodler"),n=t("./color_picker"),r=new s.Doodler("doodler-canvas","doodler-container",800,600),o=(new n.ColorPicker("color-picker","color-picker-container",40),document.getElementById("clear")),a=document.getElementById("save"),_=document.getElementById("load");o.addEventListener("click",r.clear_canvas.bind(r)),a.addEventListener("click",r.save_image.bind(r)),_.addEventListener("click",r.load_image.bind(r))},{"./color_picker":1,"./doodler":2}]},{},[3]);
//# sourceMappingURL=doodler.js.map
